# Nexus Lab Tracker â€” API Route Map + curl templates

Generated by scanning `scripts/regress_api_*.py`, then enriched with demo-ready POST payload examples.

## Base URL

```bash
PORT=${PORT:-8787}
BASE=http://127.0.0.1:$PORT
```

## Routes

### `/container/add`
- **POST** (seen in: regress_api_container_workflow.py, regress_api_sample_read_endpoints.py, regress_api_sample_status_post.py)

```bash
printf '%s\n' '{"barcode":"DEMO-TUBE-001","kind":"tube","location":"bench-A"}' | \
  curl -i -sS -X POST $BASE/container/add \
    -H "Content-Type: application/json" \
    -d @-
```

Example JSON (demo-ready):

```json
{
  "barcode": "DEMO-TUBE-001",
  "kind": "tube",
  "location": "bench-A"
}
```

### `/container/list?limit=50`
- **GET** (seen in: regress_api_container_workflow.py)

```bash
curl -i -sS $BASE/container/list?limit=50
```

### `/health`
- **GET** (seen in: regress_api_sample_add.py, regress_api_sample_read_endpoints.py, regress_api_sample_status_post.py, regress_api_snapshot_export_verify.py)

```bash
curl -i -sS $BASE/health
```

### `/sample/add`
- **POST** (seen in: regress_api_sample_add.py, regress_api_sample_read_endpoints.py, regress_api_sample_status_post.py)

```bash
printf '%s\n' '{"container":"DEMO-TUBE-001","external_id":"API-001","specimen_type":"saliva"}' | \
  curl -i -sS -X POST $BASE/sample/add \
    -H "Content-Type: application/json" \
    -d @-
```

Example JSON (demo-ready):

```json
{
  "container": "DEMO-TUBE-001",
  "external_id": "API-001",
  "specimen_type": "saliva"
}
```

Additional examples:

```json
{
  "external_id": "API-001",
  "specimen_type": "saliva"
}
```

### `/sample/events?`
- **GET** (seen in: regress_api_sample_status_note_persist.py)

```bash
curl -i -sS $BASE/sample/events?
```

### `/sample/events?identifier=`
- **GET** (seen in: regress_api_sample_read_endpoints.py, regress_api_sample_status_post.py)

```bash
curl -i -sS $BASE/sample/events?identifier=
```

### `/sample/list?limit=-1`
- **GET** (seen in: regress_api_sample_read_endpoints.py)

```bash
curl -i -sS $BASE/sample/list?limit=-1
```

### `/sample/list?limit=50`
- **GET** (seen in: regress_api_sample_read_endpoints.py)

```bash
curl -i -sS $BASE/sample/list?limit=50
```

### `/sample/report`
- **POST** (seen in: regress_api_snapshot_export_verify.py)

```bash
curl -i -sS -X POST $BASE/sample/report \
  -H "Content-Type: application/json" \
  -d "{}"
```

### `/sample/show?identifier=`
- **GET** (seen in: regress_api_sample_read_endpoints.py, regress_api_sample_status_post.py)

```bash
curl -i -sS $BASE/sample/show?identifier=
```

### `/sample/show?identifier=DOES-NOT-EXIST`
- **GET** (seen in: regress_api_sample_read_endpoints.py)

```bash
curl -i -sS $BASE/sample/show?identifier=DOES-NOT-EXIST
```

### `/sample/status`
- **POST** (seen in: regress_api_sample_status_note_persist.py, regress_api_sample_status_post.py)

```bash
printf '%s\n' '{"identifier":"API-001","message":"start processing","status":"processing"}' | \
  curl -i -sS -X POST $BASE/sample/status \
    -H "Content-Type: application/json" \
    -d @-
```

Example JSON (demo-ready):

```json
{
  "identifier": "API-001",
  "message": "start processing",
  "status": "processing"
}
```

Additional examples:

```json
{
  "identifier": "API-001",
  "note": "demo: moved to analyzing",
  "status": "analyzing"
}
```

### `/snapshot/export`
- **POST** (seen in: regress_api_snapshot_export_verify.py)

```bash
curl -i -sS -X POST $BASE/snapshot/export \
  -H "Content-Type: application/json" \
  -d "{}"
```

### `/snapshot/verify`
- **POST** (seen in: regress_api_snapshot_export_verify.py)

```bash
curl -i -sS -X POST $BASE/snapshot/verify \
  -H "Content-Type: application/json" \
  -d "{}"
```
