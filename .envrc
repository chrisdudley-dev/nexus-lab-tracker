# direnv: project environment (safe, deterministic)
# Uses scripts/env.sh which:
# - computes REPO_ROOT
# - loads .env if present (local-only)
# - sets defaults and exports
source scripts/env.sh
### GH_TOKEN_POLICY_V2_BEGIN
# Policy:
# - Never export GH_TOKEN automatically (prevents overriding your normal gh login).
# - Keep GH_TOKEN_REPO as a per-shell secret (you set it manually).
# - Provide helper 'ghr' to run gh with GH_TOKEN for ONE command only.
unset GH_TOKEN

ghr() {
  [ -n "${GH_TOKEN_REPO:-}" ] || { echo "ERROR: GH_TOKEN_REPO is not set"; return 2; }
  GH_TOKEN="$GH_TOKEN_REPO" gh "$@"
}
### GH_TOKEN_POLICY_V2_END
